<!DOCTYPE HTML>
<html lang="en-US" class="no-scroll">

<head>
    <meta charset="utf-8">
    <title>The Only Agency Intro Animation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="The Only Agency Intro Animation"/>

    <!-- Begin Stylesheets -->
        <link type="text/css" rel="stylesheet" href="css/reset.css">
        <link type="text/css" rel="stylesheet" href="css/swiper-bundle.min.css">
        <link type="text/css" rel="stylesheet" href="css/styles.css">
    <!-- End Stylesheets -->
</head>


<body>

    <!--  Begin Black Intro Div  -->
        <div id="black_intro_div">
        </div>
    <!--  End Black Intro Div  -->


    <!-- Begin Main -->
        <main id="main_el">

            <!--  Intro Video  -->
                <section id="intro_video">
                    <div id="video_masked_cont">
                        <!--  HTML Video  -->
                        <div id="video_wrapper">
                            <video autoplay loop muted playsinline style="width: 100%; height: 100%; object-fit: cover;">
                              <source src="./images/TheOnlyAgencyIntroVideo.mp4" type="video/mp4">
                              Your browser does not support the video tag.
                            </video>
                        </div>

                        <!--  Video Text  -->
                        <div id="video_intro_text">
                            <div id="video_text_inner_wrapper">
                                <div class="intro-word">
                                    <span>WORD 1</span>
                                </div>
                                <div class="intro-word">
                                    <span>WORD 2</span>
                                </div>
                                <div class="intro-word">
                                    <span>WORD 3</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>


            <!--  Hero White Section  -->
                <section id="hero-section">
                    <div id="hero-section-wrapper">
                        
                        <h1>Empowering Brands</h1>

                        <h3>TO PLAN THEIR NEXT MOVE</h3>

                        <hr>

                        <!--  Blue Planet  -->
                        <div id="planet-wrapper">
                            <div id="planet-el">
                                <img id="planet-body" src="./images/PlanetBody.png">
                                <img id="planet-ring" src="./images/PlanetRing.png">
                                <img id="planet-rock" src="./images/PlanetRock.png">
                            </div>
                        </div>

                        <h4>EYE TRACKING EEG</h4>

                        <h5>We deliver a uniquely comprehensive service</h5>

                        <p>THE ONLY AGENCY (PERPETUAL) combines in-house design expertise with deep neuroscientific analysis across ergonomics, psychology, and human factors.</p>

                        <p>We tailor these insights for various industries, like automotive and marketing, crafting designs that engage intuitively and resonate deeply with audiences. By merging data-driven insights with creative strategy, we deliver impactful solutions that not only look great but also enhance user experience and brand connection.</p>

                        <!--  Graph Indicators  -->
                        <div id="graph-indicators">
                            <div class="indc-item">
                                <div class="indc-color"></div>
                                <span>Average Valence</span>
                            </div>
                            <div class="indc-item">
                                <div class="indc-color"></div>
                                <span>Average Activation</span>
                            </div>
                            <div class="indc-item">
                                <div class="indc-color"></div>
                                <span>Average Impact</span>
                            </div>
                            <div class="indc-item">
                                <div class="indc-color"></div>
                                <span>Average Memorization</span>
                            </div>
                            <div class="indc-item">
                                <div class="indc-color"></div>
                                <span>Average Attention</span>
                            </div>
                            <div class="indc-item">
                                <div class="indc-color"></div>
                                <span>Average Engagement</span>
                            </div>
                        </div>

                        <!--  Graph Imgs Cont  -->
                        <div id="graph-cont">
                            <div id="bar-cont">
                                <div id="bar-nums">
                                    <span>100%</span>
                                    <span>75%</span>
                                    <span>50%</span>
                                    <span>25%</span>
                                    <span>0%</span>
                                </div>
                                <div id="colored-bar"></div>
                            </div>
                            <img src="./images/graph-img-1.webp">
                            <img src="./images/graph-img-2.webp">
                        </div>

                    </div>
                </section>

            <!--  Projects Grid Boxes  -->
                <section class="projects-grid">

                    <div class="section-heading">
                        <h3>OUR <span>PORTFOLIO</span></h3>
                    </div>

                    <div class="projects-grid-wrapper">
                        
                        <a href="#" class="project-item">
                            <img src="./images/project-cover-7.webp"> 
                            <div class="project-item-info">
                                <h5>Al Hilal SFC</h5>
                                <p>Video/Photography</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <img src="./images/project-cover-6.webp"> 
                            <div class="project-item-info">
                                <h5>Technique Real Estate</h5>
                                <p>Website Development and Design</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <video autoplay="" muted="" loop="">
                                <source src="./images/project-cover-vid-1.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="project-item-info">
                                <h5>Adiba</h5>
                                <p>Social Media Management</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <video autoplay="" muted="" loop="">
                                <source src="./images/project-cover-vid-2.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="project-item-info">
                                <h5>Bose</h5>
                                <p>Advertising Campaigns, Video/Photography</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <img src="./images/project-cover-5.webp"> 
                            <div class="project-item-info">
                                <h5>Saudi Olympic & Paralympic Committee</h5>
                                <p>Website Development and Design</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <img src="./images/project-cover-4.webp"> 
                            <div class="project-item-info">
                                <h5>Mama Noura</h5>
                                <p>Social Media Management, Video/Photography, Website Development and Design</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <img src="./images/project-cover-3.webp"> 
                            <div class="project-item-info">
                                <h5>Ministry of Culture</h5>
                                <p>Website Development and Design</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <img src="./images/project-cover-2.webp"> 
                            <div class="project-item-info">
                                <h5>Al Tanfeethi</h5>
                                <p>Creative Concept</p>
                            </div>                       
                        </a>

                        <a href="#" class="project-item">
                            <img src="./images/project-cover-1.webp"> 
                            <div class="project-item-info">
                                <h5>Jockey Club of Saudi Arabia</h5>
                                <p>Advertising Campaigns, Video/Photography</p>
                            </div>                       
                        </a>

                    </div>
                </section>

            <!--  Creative Projects Slider  -->
                <section class="creative-projects-slider">
                    <div class="cps-swiper-cont">
                        <!--  Swiper Wrapper  -->
                        <div class="swiper-wrapper">

                            <div class="swiper-slide">
                                <div class="slide-white-overlay"></div>
                                <div class="slide-overlay"></div>
                                <img class="slide-img-dekstop" src="./images/hawi-project-cover-wide.webp" loading="lazy">
                                <img class="slide-img-mobile" src="./images/mobile-slide-placeholder.webp" loading="lazy">
                                <div class="slide-info">
                                    <a href="">VEIW</a>
                                    <h6>Hawi - Creative Direction</h6>
                                </div>
                            </div>

                            <div class="swiper-slide">
                                <div class="slide-white-overlay"></div>
                                <div class="slide-overlay"></div>
                                <img class="slide-img-dekstop" src="./images/mahd-project-cover-wide.webp" loading="lazy">
                                <img class="slide-img-mobile" src="./images/mobile-slide-placeholder.webp" loading="lazy">
                                <div class="slide-info">
                                    <a href="">VEIW</a>
                                    <h6>Mahd - Creative Direction</h6>
                                </div>
                            </div>

                            <div class="swiper-slide">
                                <div class="slide-white-overlay"></div>
                                <div class="slide-overlay"></div>
                                <img class="slide-img-dekstop" src="./images/altanfeethi-project-cover-wide.webp" loading="lazy">
                                <img class="slide-img-mobile" src="./images/mobile-slide-placeholder.webp" loading="lazy">
                                <div class="slide-info">
                                    <a href="">VEIW</a>
                                    <h6>Althanfeethi - Creative Direction</h6>
                                </div>
                            </div>

                            <div class="swiper-slide">
                                <div class="slide-white-overlay"></div>
                                <div class="slide-overlay"></div>
                                <img class="slide-img-dekstop" src="./images/king-faisal-cup-project-cover-wide.webp" loading="lazy">
                                <img class="slide-img-mobile" src="./images/mobile-slide-placeholder.webp" loading="lazy">
                                <div class="slide-info">
                                    <a href="">VEIW</a>
                                    <h6>King Faisal Cup - Creative Direction</h6>
                                </div>
                            </div>
                        </div>

                        <div class="cps-swiper-pagination"></div>

                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </section>

            <!--  About Us Section  -->
                <section class="about-us">

                    <!--  Zooming Canvas Element For Desktop  -->
                    <canvas id="myCanvas"></canvas>

                    <!--  HTML Element for Mobile  -->
                    <div id="about-us-text-cont">
                        <h4><span>To Take Brands</span><br>to places they've never been.</h4>
                        <hr>
                        <div class="about-us-description">
                            <p>At THE ONLY AGENCY (PERPETUAL), our purpose is driven by an unrelenting quest for improvement and innovation. We are fueled by the desire to continuously seek out better ways to do things, to innovate, and to enhance the world around us.</p>
                            
                            <p>For us, good is never enough; we thrive on the challenge of finding more effective, efficient, and impactful solutions. We believe that marketing is not just about reaching audiences but transforming the way brands connect with people.</p>

                            <p>Our team is constantly asking, "What if we did it this way?" or "How can we make this better?" This mindset of perpetual curiosity and improvement defines everything we do. It's about pushing boundaries, challenging norms, and exploring new possibilities to deliver superior results for our clients.</p>
                        </div>
                        <img id="magni-glass" src="./images/magnifying-glass.png">
                    </div>
                </section>

            <!--  Our Clients  -->
                <section class="our-clients">

                    <hr>

                    <h3>MEET OUR <span>Clients</span></h3>

                    <div class="p-cont">
                        <p>With their trust, we redefine the impossible and transform ideas into tangible successes.</p>                        
                    </div>

                    <!--  Logos Cont  -->
                    <div class="logos-cont">
                        <div class="logo-item">
                            <img src="./images/client1.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client2.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client3.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client4.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client5.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client6.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client7.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client8.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client9.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client10.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client11.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client12.webp">
                        </div>
                    </div>

                    <h3>OUR STRATEGIC <span>PARTNERS</span></h3>

                    <div class="p-cont">
                        <p>Our strategic partners are the driving force behind our achievements.</p>
                    </div>
                    
                    <!--  Logos Cont  -->
                    <div class="logos-cont">
                        <div class="logo-item">
                            <img src="./images/client13.webp">
                        </div>
                        <div class="logo-item">
                            <img src="./images/client14.webp">
                        </div>
                    </div>
                </section>

            <!--  Contact Us Section  -->
                <section id="contact-section">

                    <!--  Wavy Text SVG  -->
                    <svg version="1.1" id="contact-section-wave-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1919.2 666.8" xml:space="preserve" preserveAspectRatio="xMidYMid slice">
                        <path id="contact-sec-wave-path" fill="none" stroke="none" d="M-6.9,293.4c241.6,0,241.6,80,483.2,80c241.6,0,241.6-80,483.2-80c241.6,0,241.6,80,483.2,80s241.6-80,483.2-80
                            "/>
                        <text fill="#FFFFFF" font-family="BebasNeue" dominant-baseline="middle">
                            <textPath href="#contact-sec-wave-path" startOffset="0%">
                                GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   GOT QUESTIONS?   
                            </textPath>
                        </text>
                    </svg>

                    <!--  Bottom Cont  -->
                    <div id="contact-bottom-cont">
                        <!--  Robot Image  -->
                        <div id="robot-cont">
                            <img id="robot-left-hand" src="./images/RobotLeftHand.png">
                            <img id="robot-body" src="./images/RobotBody.png">
                            <img id="robot-right-hand" src="./images/RobotRightHand.png">
                            <img id="robot-eyes" src="./images/RobotEyes.png">
                        </div>

                        <!--  CTA  -->
                        <div id="contact-text">
                            <h5>WE'VE GOT ANSWERS</h5>
                            <a href="#">GET IN TOUCH</a>
                        </div>
                    </div>
                </section>



            

            <section class="other-contents">
                other content
            </section>

            <section class="other-contents">
                other content
            </section>

        </main>
    <!-- End Main -->


    <!-- Begin JavaScript Files -->
        <script src="js/gsap.min.js"></script>
        <script src="js/ScrollTrigger.min.js"></script>
        <script src="js/split-text.js"></script>
        <script src="js/swiper-bundle.min.js"></script>

        
    <!-- End JavaScript Files -->

    <!-- Begin Animation JavaScript -->
        <script type="text/javascript">
            
            (function () {


                //  Variables
                    const black_intro_div = document.querySelector("#black_intro_div");

                    const intro_vid_masked_el = document.querySelector("#intro_video #video_masked_cont");



                    const hero_sec_h1 = document.querySelector("#hero-section h1");
                    const hero_sec_h3 = document.querySelector("#hero-section h3");
                    const hero_sec_h4 = document.querySelector("#hero-section h4");
                    const hero_sec_h5 = document.querySelector("#hero-section h5");
                    const hero_sec_p_first = document.querySelectorAll("#hero-section p")[0];
                    const hero_sec_p_second = document.querySelectorAll("#hero-section p")[1];
                    const hero_sec_els = [hero_sec_h1, hero_sec_h3, hero_sec_h4, hero_sec_h5, hero_sec_p_first, hero_sec_p_second];
                    const our_clients_h3_els = document.querySelectorAll(".our-clients h3");
                    const our_clients_p_els = document.querySelectorAll(".our-clients p");
                    const contact_us_wavy_path = document.querySelector("#contact-section-wave-svg textPath");

                //  Desktop Function
                    function desktopFunction() {

                        console.log("desktopFunction")


                        //  Intro Video Timeline
                            const intro_video_loader_tl = gsap.timeline({ 
                                delay: 0,
                            });

                            intro_video_loader_tl.call(() => {
                                black_intro_div.classList.add('hide_black_intro');
                            })

                        //  Intro Video ScrollTrigger Scrub Section Timeline
                            gsap.set(intro_vid_masked_el, { 
                                maskSize: "100%" 
                            });

                            gsap.set("#intro_video #video_intro_text", {
                                yPercent: 100 
                            });

                            gsap.set(document.querySelectorAll("#intro_video #video_intro_text span")[0], {
                                xPercent: -50
                            });

                            gsap.set(document.querySelectorAll("#intro_video #video_intro_text span")[2], {
                                xPercent: -50
                            });

                            gsap.set(document.querySelectorAll("#intro_video #video_intro_text span")[1], {
                                xPercent: 50
                            });

                            intro_vid_masked_el.style.webkitMaskPosition = "51.7% 48%";
                            intro_vid_masked_el.style.maskPosition = "51.7% 48%";

                            const intro_video_tl = gsap.timeline({
                              scrollTrigger: {
                                trigger: intro_vid_masked_el,
                                pin: true,
                                pinSpacing: true,
                                pinType: "fixed",
                                start: "top top",
                                end: "+=500%",
                                scrub: 1,
                                ease: "none",
                                // markers: true,
                                onLeave: () => gsap.set(intro_vid_masked_el, { clearProps: "transform" }),
                                //  must use this onleave to clear the transform caused by pinning in order to keep the element in
                              }
                            });

                            // intro_video_tl.to("#intro_video #video_masked_cont", {
                            //     maskSize: "5600%",
                            //     duration: 1
                            // });

                            intro_video_tl.to(intro_vid_masked_el, {
                                css: {
                                    maskSize: "5600%",
                                    WebkitMaskSize: "5600%"
                                },
                                duration: 1
                            });

                            intro_video_tl.to("#intro_video #video_wrapper", {
                                scale: 0.5,
                                xPercent: -13,
                                duration: 1
                            });

                            intro_video_tl.to("#intro_video #video_intro_text", {
                                yPercent: 0,
                                duration: 1
                            }, "<");

                            intro_video_tl.to([document.querySelectorAll("#intro_video #video_intro_text span")[0], document.querySelectorAll("#intro_video #video_intro_text span")[2]], {
                                xPercent: 0,
                                duration: 1
                            }, "<");

                            intro_video_tl.to(document.querySelectorAll("#intro_video #video_intro_text span")[1], {
                                xPercent: -10,
                                duration: 1
                            }, "<");

                            //  Animate the container of the text as if its being pushed top by scroll
                            const move_text_with_hero_tl = gsap.timeline({
                              scrollTrigger: {
                                trigger: "#hero-section",
                                start: "top bottom",
                                // end: () => `+=${window.innerHeight}px`,
                                scrub: true,
                                ease: "none",
                                // markers: true,
                              }
                            });

                            move_text_with_hero_tl.to("#video_text_inner_wrapper", {
                                y: () => {
                                    return -document.querySelector("#hero-section").offsetHeight; // Moves up by the same height as the trigger
                                }
                            });

                        //  Hero Section Split Text
                            const hero_splitText = new SplitText([hero_sec_h1, hero_sec_h3, hero_sec_h4, hero_sec_h5], { 
                                type: "chars,words",
                                charsClass: "letter-div",
                                wordsClass: "word-div" 
                            });

                            gsap.set(hero_splitText.chars, {
                              autoAlpha: 0,
                              scaleY: 0,
                              yPercent: 50,
                              color: "#00ddfd",
                            });

                            gsap.set("#hero-section hr", {
                                width: 0
                            });

                            gsap.set(["#hero-section p:nth-of-type(1)", "#hero-section p:nth-of-type(2)"], {
                                autoAlpha: 0,
                                y: 100
                            });

                            gsap.set("#hero-section #graph-indicators .indc-item", {
                                autoAlpha: 0,
                                y: 100
                            });

                            gsap.set("#hero-section #graph-cont", {
                                autoAlpha: 0,
                                y: 100
                            });

                            // gsap.set("#hero-section #planet-el", {
                            //     autoAlpha: 0,
                            //     x: 100
                            // });

                        //  Hero Section Timeline
                            const hero_section_main_tl = gsap.timeline({
                              scrollTrigger: {
                                trigger: "#hero-section",
                                pin: true,
                                pinSpacing: true,
                                pinType: "fixed",
                                start: "top top",
                                end: () => `+=${window.innerHeight}px`,
                                scrub: 3,
                                ease: "power3.out",
                                // markers: true,
                              }
                            });

                            const hero_section_tl = gsap.timeline({
                              scrollTrigger: {
                                trigger: "#hero-section-wrapper",
                                start: "top 80%",
                                end: () => `+=${window.innerHeight}px`,
                                scrub: 3,
                                ease: "power3.out",
                                // markers: true,
                              }
                            });

                            hero_section_tl.to("#hero-section h1 .letter-div", {
                                autoAlpha: 1,
                                scaleY: 1,
                                yPercent: 0,
                                color: "#000000",
                                ease: 'power3.out',
                                stagger: 0.1,
                            });

                            hero_section_tl.to("#hero-section h3 .letter-div", {
                                autoAlpha: 1,
                                scaleY: 1,
                                yPercent: 0,
                                color: "#000000",
                                ease: "power3.out",
                                stagger: 0.1,
                            });

                            // hero_section_tl.to("#hero-section #planet-el", {
                            //     autoAlpha: 1,
                            //     x: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            // });

                            hero_section_tl.to("#hero-section hr", {
                                width: 140,
                                ease: "power3.out",
                            });

                            hero_section_tl.to("#hero-section h4 .letter-div", {
                                autoAlpha: 1,
                                scaleY: 1,
                                yPercent: 0,
                                color: "#000000",
                                ease: "power3.out",
                                stagger: 0.1,
                            });

                            hero_section_tl.to("#hero-section h5 .letter-div", {
                                autoAlpha: 1,
                                scaleY: 1,
                                yPercent: 0,
                                color: "#000000",
                                ease: "power3.out",
                                stagger: 0.1,
                            });

                            hero_section_tl.to("#hero-section p:nth-of-type(1)", {
                                autoAlpha: 1,
                                y: 0,
                                duration: 1,
                                ease: "power3.out",
                            });

                            hero_section_tl.to("#hero-section p:nth-of-type(2)", {
                                autoAlpha: 1,
                                y: 0,
                                duration: 1,
                                ease: "power3.out",
                            });

                            hero_section_tl.to("#hero-section #graph-indicators .indc-item", {
                                autoAlpha: 1,
                                y: 0,
                                duration: 1,
                                ease: "power3.out",
                                stagger: 0.1
                            });

                            hero_section_tl.to("#hero-section #graph-cont", {
                                autoAlpha: 1,
                                y: 0,
                                duration: 1,
                                ease: "power3.out",
                            });

                        //  Products Grid
                            const products_grid_splitText = new SplitText(document.querySelector(".section-heading h3"), { 
                                type: "chars,words",
                                charsClass: "letter-div",
                                wordsClass: "word-div" 
                            });

                            gsap.set(products_grid_splitText.chars, {
                              autoAlpha: 0,
                              scaleY: 0,
                              yPercent: 50,
                              color: "#00ddfd",
                            });

                            gsap.to(".section-heading h3 .letter-div", {
                                scrollTrigger: {
                                    trigger: ".section-heading h3",
                                    start: "top 80%",
                                },
                                autoAlpha: 1,
                                scaleY: 1,
                                yPercent: 0,
                                color: "#000000",
                                duration: 0.3,
                                ease: "power3.out",
                                stagger: 0.05,
                            });

                            gsap.set(".projects-grid-wrapper .project-item", {
                                autoAlpha: 0,
                                y: 100
                            });


                            gsap.to(".projects-grid-wrapper .project-item", {
                                scrollTrigger: {
                                    trigger: ".projects-grid-wrapper",
                                    start: "top 80%",
                                    // markers: true
                                },
                                autoAlpha: 1,
                                y: 0,
                                duration: 0.7,
                                ease: "power3.out",
                                stagger: 0.2
                            });

                        //  About Us Canvas
                            function aboutsUsCanvasFunc() {

                                // var font1 = new FontFace('PlaylistScript', 'url(../fonts/Playlist-Script.woff)');
                                // var font2 = new FontFace('AnotherFont', 'url(../fonts/Gotham-Light.woff)');

                                // Promise.all([font1.load(), font2.load()]).then(function(loadedFonts) {
                                //     loadedFonts.forEach(font => document.fonts.add(font));
                                    
                                //     console.log('Fonts loaded');

                                //     // Get canvas context
                                //     var canvas = document.getElementById("myCanvas"); // Ensure you have a canvas element with id="myCanvas"
                                //     var ctx = canvas.getContext("2d");

                                //     ctx.fillStyle = "red";

                                //     // Draw first text with PlaylistScript
                                //     ctx.font = "50px PlaylistScript";
                                //     ctx.textAlign = "center";
                                //     ctx.fillText("To Take Brands", 100, 100);

                                //     // Draw second text with AnotherFont
                                //     ctx.font = "50px AnotherFont";
                                //     ctx.fillText("With Another Font", 100, 200);
                                // }).catch(function(error) {
                                //     console.error('Font loading failed:', error);
                                // });


                                const canvas = document.getElementById("myCanvas");
                                const ctx = canvas.getContext("2d"); // Set Canvas to 2d

                                //  Zoom Factors
                                    const zoomFactor = 2; // Magnification level
                                    const lensRadius = 85; // Magnifying glass size

                                //  First Text
                                    const text1 = "To Take Brands";
                                    const fontSize1 = 65;
                                    const fontFamily1 = "PlaylistScript";
                                    const textColor1 = "rgb(0, 223, 255)";

                                //  Second Text
                                    const text2 = "TO PLACES THEY'VE NEVER BEEN";
                                    const fontSize2 = 38;
                                    const fontFamily2 = "Gotham Light";
                                    const textColor2 = "white";

                                //  Horizontal Line
                                    const horizontalLineWidth = 100;
                                    const horizontalLineHeight = 2;
                                    const horizontalLineColor = "rgb(0, 223, 255)";

                                //  Paragraph properties
                                    const fontSize3 = 25;
                                    const fontFamily3 = "Gotham Light";
                                    const paragraphColor = "white";
                                    const lineSpacing = 30; // Space between line and first paragraph
                                    const paragraphSpacing = 120; // Space between paragraphs
                                    const paragraphsMaxWidth = 1200;

                                //  Paragraph Text Array
                                    const paragraphs = [
                                    "At THE ONLY AGENCY (PERPETUAL), our purpose is driven by an unrelenting quest for improvement and innovation. We are fueled by the desire to continuously seek out better ways to do things, to innovate, and to enhance the world around us.",
                                    "For us, good is never enough; we thrive on the challenge of finding more effective, efficient, and impactful solutions. We believe that marketing is not just about reaching audiences but transforming the way brands connect with people.",
                                    'Our team is constantly asking, "What if we did it this way?" or "How can we make this better?" This mindset of perpetual curiosity and improvement defines everything we do. It\'s about pushing boundaries, challenging norms, and exploring new possibilities to deliver superior results for our clients.'
                                    ];


                                //  Canvas Dimensions should be set before drawing, unless text will be stretched
                                    let height_before_paragraphs = 100 + fontSize1 + fontSize2 + horizontalLineHeight + lineSpacing + 50;

                                    paragraphs.forEach((para, index) => {
                                        height_before_paragraphs += paragraphSpacing;
                                        if (index === paragraphs.length - 1) {
                                            canvas.width = window.innerWidth;
                                            canvas.height = height_before_paragraphs;
                                        }
                                    });

                                // Create a high-resolution offscreen canvas
                                    const scaleFactor = 2; // Increase resolution
                                    const offscreenCanvas = document.createElement("canvas");
                                    const offCtx = offscreenCanvas.getContext("2d");
                                    offscreenCanvas.width = canvas.width * scaleFactor;
                                    offscreenCanvas.height = canvas.height * scaleFactor;
                                    offCtx.scale(scaleFactor, scaleFactor);


                                function drawText(ctx, x, y) {

                                    // Draw First Text
                                    ctx.fillStyle = textColor1;
                                    console.log(fontFamily1)
                                    // ctx.font = "65px 'Gotham Light'";
                                    // ctx.font = "65px 'BebasNeue'";
                                    ctx.font = "65px PlaylistScript";


                                    
                                    ctx.fillText(text1, x, y);


                                    // Draw Second Text
                                    ctx.fillStyle = textColor2;
                                    ctx.font = `${fontSize2}px ${fontFamily2}`;
                                    ctx.fillText(text2, x, y + fontSize1); // 10px spacing

                                    // Draw the horizontal line 50px below second text
                                    ctx.fillStyle = horizontalLineColor;
                                    ctx.fillRect(x, y + fontSize1 + fontSize2, horizontalLineWidth, horizontalLineHeight);


                                    // Draw paragraphs under the line
                                    let paragraphY = y + fontSize1 + fontSize2 + horizontalLineHeight + lineSpacing + 20;
                                    ctx.fillStyle = paragraphColor;
                                    ctx.font = `${fontSize3}px ${fontFamily3}`;


                                    paragraphs.forEach((para, index) => {
                                        drawMultilineText(ctx, para, x, paragraphY, paragraphsMaxWidth);
                                        paragraphY += paragraphSpacing;

                                        if (index === paragraphs.length - 1) {
                                            canvas.width = window.innerWidth;
                                            canvas.height = paragraphY;
                                        }
                                    });
                                }

                                //  Draw Multiline Text - The Three Paragraphs
                                    function drawMultilineText(ctx, text, x, y, maxWidth) {
                                        const words = text.split(" ");
                                        let line = "";
                                        let lineHeight = 30; // Line height for wrapped text
                                        let currentY = y;

                                        words.forEach((word) => {
                                          const testLine = line + word + " ";
                                          const testWidth = ctx.measureText(testLine).width;
                                          if (testWidth > maxWidth) {
                                            ctx.fillText(line, x, currentY);
                                            line = word + " ";
                                            currentY += lineHeight;
                                          } else {
                                            line = testLine;
                                          }
                                        });

                                        ctx.fillText(line, x, currentY);
                                    }


                                // Draw the high-resolution text on the offscreen canvas
                                    drawText(offCtx, 100, 100);

                                function draw() {
                                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                                    ctx.drawImage(offscreenCanvas, 0, 0, canvas.width, canvas.height);
                                }


                                let lensX = 0, lensY = 0;

                                function magnify(event) {
                                    const { offsetX, offsetY } = event;
                                    
                                    gsap.to({ x: lensX, y: lensY }, {
                                        x: offsetX,
                                        y: offsetY,
                                        duration: 0.1,
                                        ease: "power2.out",
                                        onUpdate: function () {
                                            lensX = this.targets()[0].x;
                                            lensY = this.targets()[0].y;
                                            drawMagnifier(lensX, lensY);
                                        }
                                    });
                                }


                                // Load magnifying glass image
                                const magnifierImg = new Image();
                                magnifierImg.src = "./images/magnifying-glass.png"; // Update with your actual path

                                function drawMagnifier(x, y) {
                                    // Redraw the normal text
                                    draw();
                                    
                                    // Erase the unzoomed text inside the circle
                                    ctx.save();
                                    ctx.beginPath();
                                    ctx.arc(x, y, lensRadius, 0, Math.PI * 2);
                                    ctx.clip();
                                    ctx.globalCompositeOperation = "destination-out";
                                    ctx.fillRect(x - lensRadius, y - lensRadius, lensRadius * 2, lensRadius * 2);
                                    ctx.restore();
                                    ctx.globalCompositeOperation = "source-over";
                                    
                                    // Draw the zoomed text inside the circle
                                    ctx.save();
                                    ctx.beginPath();
                                    ctx.arc(x, y, lensRadius, 0, Math.PI * 2);
                                    ctx.clip();
                                    
                                    ctx.drawImage(
                                        offscreenCanvas,
                                        (x - lensRadius / zoomFactor) * scaleFactor,
                                        (y - lensRadius / zoomFactor) * scaleFactor,
                                        (lensRadius * 2 / zoomFactor) * scaleFactor,
                                        (lensRadius * 2 / zoomFactor) * scaleFactor,
                                        x - lensRadius,
                                        y - lensRadius,
                                        lensRadius * 2,
                                        lensRadius * 2
                                    );
                                    
                                    ctx.restore();

                                    // Draw the magnifying glass image at cursor position
                                    const imageSize = lensRadius * 2; // Adjust if needed
                                    ctx.drawImage(magnifierImg, x - imageSize / 2 - 2, y - imageSize / 2 - 8, 200, 270);
                                }

                                draw();

                                canvas.addEventListener("mousemove", magnify);

                                //  Mouseleave Event
                                canvas.addEventListener("mouseleave", function () {                                    

                                    gsap.to({ x: lensX, y: lensY }, {
                                        x: window.innerWidth - 200,
                                        y: window.innerHeight / 2 - 200,
                                        duration: 1,
                                        ease: "power2.out",
                                        onUpdate: function () {
                                            lensX = this.targets()[0].x;
                                            lensY = this.targets()[0].y;
                                            drawMagnifier(lensX, lensY);
                                        }
                                    });

                                });


                            }

                            aboutsUsCanvasFunc();

                        //  Our Clients
                            gsap.set(".our-clients hr", {
                                width: 0,
                            });

                            gsap.to(".our-clients hr", { 
                                    width: 140,
                                    duration: 1,
                                    ease: "power3.out",
                                    scrollTrigger: {
                                    trigger: ".our-clients hr",
                                    start: "top 80%"
                                }
                            })

                            const our_clients_h3_splitText = new SplitText(our_clients_h3_els, { 
                                type: "chars,words",
                                charsClass: "letter-div",
                                wordsClass: "word-div" 
                            });

                            gsap.set(our_clients_h3_splitText.chars, {
                              autoAlpha: 0,
                              scaleY: 0,
                              yPercent: 50,
                              color: "#00ddfd",
                            });

                            const our_clients_h3_arr = gsap.utils.toArray('.our-clients h3');
                            
                            our_clients_h3_arr.forEach(el => {
                              gsap.to(el.querySelectorAll(".letter-div"), { 
                                autoAlpha: 1,
                                scaleY: 1,
                                yPercent: 0,
                                color: "#000000",
                                duration: 0.3,
                                ease: "power3.out",
                                stagger: 0.05,
                                scrollTrigger: {
                                  trigger: el,
                                  start: "top 80%",
                                  // markers: true
                                }
                              })
                            });
                            
                            gsap.set(our_clients_p_els, {
                                autoAlpha: 0,
                                y: 100
                            });

                            document.querySelectorAll(".our-clients .p-cont").forEach(el => {
                                gsap.to(el.querySelector("p"), { 
                                    scrollTrigger: {
                                      trigger: el,
                                      start: "top 80%",
                                      // markers: true
                                    },
                                    autoAlpha: 1,
                                    y: 0,
                                    duration: 1,
                                    ease: "power3.out",
                                    // immediateRender: false
                                  });
                            });


                            gsap.set(".our-clients .logos-cont img", {
                              autoAlpha: 0,
                              y: 100,
                            });

                            const our_clients_logocont_arr = gsap.utils.toArray('.our-clients .logos-cont');
                            
                            our_clients_logocont_arr.forEach(el => {
                              gsap.to(el.querySelectorAll("img"), { 
                                autoAlpha: 1,
                                y: 0,
                                duration: 0.8,
                                ease: "power3.out",
                                stagger: 0.1,
                                scrollTrigger: {
                                  trigger: el,
                                  start: "top 80%",
                                  // markers: true
                                }
                              });
                            });

                        //  Contact Section
                            gsap.to("#contact-section-wave-svg textPath", {
                              scrollTrigger: {
                                trigger: "#contact-section",
                                start: "top top",
                                end: "+=1000",
                                pin: true,
                                pinSpacing: true,
                                pinType: "fixed",
                                scrub: 1,
                                // markers: true
                              },
                              attr: { startOffset: "-100%" },
                              ease: "none",
                            });

                    }

                //  Mobile Timeline
                    function mobileFunction() {

                        console.log("mobileFunction");

                        ScrollTrigger.config({ 
                            ignoreMobileResize: true,
                            autoRefreshEvents: "" 
                        });

                        //  Intro Video Timeline
                            const intro_video_loader_tl = gsap.timeline({ 
                                delay: 0,
                            });

                            intro_video_loader_tl.call(() => {
                                black_intro_div.classList.add('hide_black_intro');
                            })

                        //  Intro Video ScrollTrigger Scrub Section Timeline
                            gsap.set("#intro_video #video_masked_cont", { 
                                maskSize: "100%" 
                            });

                            gsap.set("#intro_video #video_intro_text", {
                                yPercent: 100 
                            });

                            gsap.set(document.querySelectorAll("#intro_video #video_intro_text span")[0], {
                                xPercent: -50
                            });

                            gsap.set(document.querySelectorAll("#intro_video #video_intro_text span")[2], {
                                xPercent: -50
                            });

                            gsap.set(document.querySelectorAll("#intro_video #video_intro_text span")[1], {
                                xPercent: 50
                            });

                            document.querySelector("#intro_video #video_masked_cont").style.webkitMaskPosition = "51.7% 48%";
                            document.querySelector("#intro_video #video_masked_cont").style.maskPosition = "51.7% 48%";

                            const intro_video_tl = gsap.timeline({
                              scrollTrigger: {
                                trigger: "#video_masked_cont",
                                pin: true,
                                pinSpacing: true,
                                pinType: "fixed",
                                start: "top top",
                                end: "+=300%",
                                scrub: 1,
                                ease: "none",
                                // markers: true,
                                onLeave: () => gsap.set("#video_masked_cont", { clearProps: "transform" }),
                                //  must use this onleave to clear the transform caused by pinning in order to keep the element in
                              }
                            });

                            intro_video_tl.to("#intro_video #video_masked_cont", {
                                maskSize: "5600%",
                                duration: 1
                            });

                            intro_video_tl.to("#intro_video #video_intro_text", {
                                yPercent: 0,
                                duration: 1
                            }, "<");

                            intro_video_tl.to([document.querySelectorAll("#intro_video #video_intro_text span")[0], document.querySelectorAll("#intro_video #video_intro_text span")[2]], {
                                xPercent: 0,
                                duration: 1
                            }, "<");

                            intro_video_tl.to(document.querySelectorAll("#intro_video #video_intro_text span")[1], {
                                xPercent: -10,
                                duration: 1
                            }, "<");

                            //  Animate the container of the text as if its being pushed top by scroll
                            const move_text_with_hero_tl = gsap.timeline({
                              scrollTrigger: {
                                trigger: "#hero-section",
                                start: "top bottom",
                                scrub: true,
                                ease: "none",
                                // markers: true,
                              }
                            });

                            move_text_with_hero_tl.to("#video_text_inner_wrapper", {
                                y: () => {
                                    return -document.querySelector("#hero-section").offsetHeight; // Moves up by the same height as the trigger
                                }
                            });

                        //  Hero Section Split Text
                            // const hero_splitText = new SplitText([hero_sec_h1, hero_sec_h3, hero_sec_h4, hero_sec_h5], { 
                            //     type: "chars,words",
                            //     charsClass: "letter-div",
                            //     wordsClass: "word-div" 
                            // });

                            // gsap.set(hero_splitText.chars, {
                            //   autoAlpha: 0,
                            //   scaleY: 0,
                            //   yPercent: 50,
                            //   color: "#00ddfd",
                            // });

                            // gsap.set("#hero-section #line-separator", {
                            //     width: 0
                            // });

                            // gsap.set(["#hero-section p:nth-of-type(1)", "#hero-section p:nth-of-type(2)", "#hero-section #graph-indicators .indc-item", "#hero-section #graph-cont"], {
                            //     autoAlpha: 0,
                            //     y: 100
                            // });

                            // gsap.set("#hero-section #planet-el", {
                            //     autoAlpha: 0,
                            //     x: 100
                            // });

                        //  Hero Section Timeline
                            // const hero_section_main_tl = gsap.timeline({
                            //   scrollTrigger: {
                            //     trigger: "#hero-section",
                            //     start: "top top",
                            //     end: () => `+=${window.innerHeight/2}px`,
                            //     scrub: 3,
                            //     ease: "power3.out",
                            //   }
                            // });

                            // const hero_section_tl = gsap.timeline({
                            //   scrollTrigger: {
                            //     trigger: "#hero-section-wrapper",
                            //     start: "top 80%",
                            //     end: () => `+=${window.innerHeight/2}px`,
                            //     scrub: 3,
                            //     ease: "power3.out",
                            //   }
                            // });

                            // hero_section_tl.to("#hero-section h1 .letter-div", {
                            //     autoAlpha: 1,
                            //     scaleY: 1,
                            //     yPercent: 0,
                            //     color: "#000000",
                            //     ease: 'power3.out',
                            //     stagger: 0.1,
                            // });

                            // hero_section_tl.to("#hero-section h3 .letter-div", {
                            //     autoAlpha: 1,
                            //     scaleY: 1,
                            //     yPercent: 0,
                            //     color: "#000000",
                            //     ease: "power3.out",
                            //     stagger: 0.1,
                            // });

                            // hero_section_tl.to("#hero-section #planet-el", {
                            //     autoAlpha: 0.2,
                            //     x: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            // });

                            // hero_section_tl.to("#hero-section #line-separator", {
                            //     width: 50,
                            //     ease: "power3.out",
                            // });

                            // hero_section_tl.to("#hero-section h4 .letter-div", {
                            //     autoAlpha: 1,
                            //     scaleY: 1,
                            //     yPercent: 0,
                            //     color: "#000000",
                            //     ease: "power3.out",
                            //     stagger: 0.1,
                            // });

                            // hero_section_tl.to("#hero-section h5 .letter-div", {
                            //     autoAlpha: 1,
                            //     scaleY: 1,
                            //     yPercent: 0,
                            //     color: "#000000",
                            //     ease: "power3.out",
                            //     stagger: 0.1,
                            // });

                            // hero_section_tl.to("#hero-section p:nth-of-type(1)", {
                            //     autoAlpha: 1,
                            //     y: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            // });

                            // hero_section_tl.to("#hero-section p:nth-of-type(2)", {
                            //     autoAlpha: 1,
                            //     y: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            // });

                        //  Products Grid
                            // const products_grid_splitText = new SplitText(document.querySelector(".section-heading h3"), { 
                            //     type: "chars,words",
                            //     charsClass: "letter-div",
                            //     wordsClass: "word-div" 
                            // });

                            // gsap.set(products_grid_splitText.chars, {
                            //   autoAlpha: 0,
                            //   scaleY: 0,
                            //   yPercent: 50,
                            //   color: "#00ddfd",
                            // });

                            // gsap.to(".section-heading h3 .letter-div", {
                            //     scrollTrigger: {
                            //         trigger: ".section-heading h3",
                            //         start: "top 80%",
                            //     },
                            //     autoAlpha: 1,
                            //     scaleY: 1,
                            //     yPercent: 0,
                            //     color: "#000000",
                            //     duration: 0.3,
                            //     ease: "power3.out",
                            //     stagger: 0.05,
                            // });

                            // gsap.set(".projects-grid-wrapper .project-item", {
                            //     autoAlpha: 0,
                            //     y: 100
                            // });

                            // gsap.utils.toArray('.projects-grid-wrapper .project-item').forEach(el => {
                            //   gsap.to(el, { 
                            //     autoAlpha: 1,
                            //     y: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            //     scrollTrigger: {
                            //       trigger: el,
                            //       start: "top 80%",
                            //     }
                            //   });
                            // });

                        //  About Us Magnifying Glass
                            // gsap.set("#magni-glass",{
                            //         x: 100,
                            //         autoAlpha: 0
                            // });

                            // gsap.to("#magni-glass", { 
                            //     autoAlpha: 0.4,
                            //     x: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            //     scrollTrigger: {
                            //         trigger: "#magni-glass",
                            //         start: "top 80%",
                            //     }
                            // });

                        //  Our Clients
                            // gsap.set(".our-clients hr", {
                            //     width: 0,
                            // });

                            // gsap.to(".our-clients hr", { 
                            //     width: 100,
                            //     duration: 1,
                            //     ease: "power3.out",
                            //     scrollTrigger: {
                            //         trigger: ".our-clients hr",
                            //         start: "top 80%"
                            //     }
                            // });

                            // const our_clients_h3_splitText = new SplitText(our_clients_h3_els, { 
                            //     type: "chars,words",
                            //     charsClass: "letter-div",
                            //     wordsClass: "word-div" 
                            // });

                            // gsap.set(our_clients_h3_splitText.chars, {
                            //   autoAlpha: 0,
                            //   scaleY: 0,
                            //   yPercent: 50,
                            //   color: "#00ddfd",
                            // });

                            // const our_clients_h3_arr = gsap.utils.toArray('.our-clients h3');
                            
                            // our_clients_h3_arr.forEach(el => {
                            //   gsap.to(el.querySelectorAll(".letter-div"), { 
                            //     autoAlpha: 1,
                            //     scaleY: 1,
                            //     yPercent: 0,
                            //     color: "#000000",
                            //     duration: 0.3,
                            //     ease: "power3.out",
                            //     stagger: 0.05,
                            //     scrollTrigger: {
                            //       trigger: el,
                            //       start: "top 80%",
                            //     }
                            //   })
                            // });
                            
                            // document.querySelectorAll(".our-clients .p-cont").forEach(el => {
                            //     gsap.to(el.querySelector("p"), { 
                            //         scrollTrigger: {
                            //             trigger: el,
                            //             start: "top 80%",
                            //         },
                            //         autoAlpha: 1,
                            //         y: 0,
                            //         duration: 1,
                            //         ease: "power3.out",
                            //     });
                            // });

                            // gsap.set([our_clients_p_els, ".our-clients .logos-cont img"], {
                            //     autoAlpha: 0,
                            //     y: 100
                            // });

                            // gsap.utils.toArray('.our-clients .logos-cont img').forEach(el => {
                            //   gsap.to(el, { 
                            //     autoAlpha: 1,
                            //     y: 0,
                            //     duration: 1,
                            //     ease: "power3.out",
                            //     scrollTrigger: {
                            //       trigger: el,
                            //       start: "top 80%",
                            //     }
                            //   });
                            // });

                        //  Contact Section
                            gsap.to("#contact-section-wave-svg textPath", {
                              scrollTrigger: {
                                trigger: "#contact-section",
                                start: "top top",
                                end: "+=1500",
                                pin: true,
                                pinSpacing: true,
                                pinType: "fixed",
                                scrub: 1,
                                anticipatePin: 1,
                              },
                              attr: { startOffset: "-200%" },
                              ease: "none",
                            });

                    }


                //  Creative Projects Slider Swiper for Both Desktop and Mobile 
                    const swiper = new Swiper('.cps-swiper-cont', {
                        direction: 'horizontal',
                        preloadImages: true,
                        initialSlide: 1,
                        grabCursor: true,
                        speed: 400, //  less than 767px
                        spaceBetween: 20,   //  less than 767px
                        slidesPerView: 1.4,   //  less than 767px
                        initialSlide: 1,
                        loop: true,
                        centeredSlides: true,
                        pagination: {
                            el: '.cps-swiper-pagination',
                            clickable: true,
                        },
                        navigation: {
                            nextEl: ".swiper-button-next",
                            prevEl: ".swiper-button-prev",
                        },
                        breakpoints: {
                            767: { // This applies to screens 767px and more (desktop)
                                slidesPerView: 1.5,
                                spaceBetween: 20,
                                speed: 1000,
                            },
                        }
                    });
                

                //  Homepage Function
                    function homePageFunc() {

                        console.log("HOME PAGE FUNCTION")

                        //  GSAP Config
                            // gsap.registerPlugin(ScrollTrigger, DrawSVGPlugin);
                        gsap.registerPlugin(ScrollTrigger);
                            gsap.config({ force3D: true, trialWarn: false });

                        //  Update ScrollTrigger on resize
                            // let resizeTimeout;
                            // window.addEventListener("resize", () => {
                            //   clearTimeout(resizeTimeout);
                            //   resizeTimeout = setTimeout(() => {
                            //     ScrollTrigger.refresh();
                            //   }, 200);
                            // });

                        //  GSAP Media Query
                            let gsapMediaQueries = gsap.matchMedia();

                            gsapMediaQueries.add("(min-width: 768px)", () => {
                                desktopFunction();                                
                            });

                            gsapMediaQueries.add("(max-width: 767px)", () => {
                                mobileFunction();
                            });

                    }

                //  Check DOMContentLoaded and load (assets (images, stylesheets, fonts, etc..) events are done then execute functions
                    document.addEventListener("DOMContentLoaded", () => {
                        console.log("DOM fully loaded and parsed");

                        // Wait for all fonts to be fully loaded
                        document.fonts.ready.then(() => {
                            console.log("All fonts loaded");

                            // Check if the load event has already fired
                            if (document.readyState === "complete") {
                                homePageFunc();
                            } else {
                                window.addEventListener("load", homePageFunc);
                            }

                        });
                    });



            })();
        </script>
    <!-- End Animation JavaScript -->

</body>


</html>